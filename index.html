<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Booking Ruangan</title>
    <style>
      :root {
        /* Light mode colors */
        --bg-gradient: linear-gradient(
          135deg,
          #8b7355 0%,
          #a0896b 50%,
          #d4c4a8 100%
        );
        --container-bg: white;
        --header-gradient: linear-gradient(135deg, #8b7355 0%, #a0896b 100%);
        --form-bg: #f5f1ec;
        --form-border: #e8ddd4;
        --text-primary: #5d4e37;
        --text-secondary: #8b7355;
        --card-bg: white;
        --card-border: #e8ddd4;
        --card-hover: #f5f1ec;
        --btn-gradient: linear-gradient(135deg, #8b7355 0%, #a0896b 100%);
        --btn-shadow: rgba(139, 115, 85, 0.4);
        --accent-color: #a0896b;
        --success-bg: #e8f5e8;
        --success-text: #2d5016;
        --error-bg: #f8e8e8;
        --error-text: #721c24;
        --shadow-color: rgba(139, 115, 85, 0.15);
      }

      [data-theme="dark"] {
        /* Dark mode colors */
        --bg-gradient: linear-gradient(
          135deg,
          #1a1a1a 0%,
          #2d2d2d 50%,
          #3a3a3a 100%
        );
        --container-bg: #2d2d2d;
        --header-gradient: linear-gradient(135deg, #1a1a1a 0%, #333333 100%);
        --form-bg: #3a3a3a;
        --form-border: #4a4a4a;
        --text-primary: #e0e0e0;
        --text-secondary: #b0b0b0;
        --card-bg: #404040;
        --card-border: #555555;
        --card-hover: #4a4a4a;
        --btn-gradient: linear-gradient(135deg, #555555 0%, #666666 100%);
        --btn-shadow: rgba(0, 0, 0, 0.4);
        --accent-color: #8b7355;
        --success-bg: #2d4a2d;
        --success-text: #90ee90;
        --error-bg: #4a2d2d;
        --error-text: #ff6b6b;
        --shadow-color: rgba(0, 0, 0, 0.3);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: var(--bg-gradient);
        min-height: 100vh;
        padding: 20px;
        transition: all 0.3s ease;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: var(--container-bg);
        border-radius: 20px;
        box-shadow: 0 20px 40px var(--shadow-color);
        overflow: hidden;
        animation: slideUp 0.8s ease-out;
        transition: all 0.3s ease;
      }

      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .header {
        background: var(--header-gradient);
        color: white;
        padding: 30px;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" patternUnits="userSpaceOnUse" width="100" height="100"><circle cx="50" cy="50" r="30" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
        opacity: 0.2;
      }

      .theme-toggle {
        position: absolute;
        top: 20px;
        right: 20px;
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 50px;
        padding: 8px 16px;
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 10;
        color: white;
        font-size: 0.9em;
        font-weight: 500;
      }

      .theme-toggle:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.05);
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        position: relative;
        z-index: 1;
        font-weight: 700;
        letter-spacing: 1px;
      }

      .header p {
        font-size: 1.2em;
        opacity: 0.9;
        position: relative;
        z-index: 1;
        font-weight: 300;
      }

      .main-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 40px;
        padding: 40px;
      }

      .booking-form {
        background: var(--form-bg);
        padding: 30px;
        border-radius: 15px;
        border: 2px solid var(--form-border);
        transition: all 0.3s ease;
      }

      .booking-form:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px var(--shadow-color);
      }

      .form-group {
        margin-bottom: 25px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: var(--text-primary);
        font-size: 1.1em;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 12px 15px;
        border: 2px solid var(--form-border);
        border-radius: 10px;
        font-size: 1em;
        transition: all 0.3s ease;
        background: var(--card-bg);
        color: var(--text-primary);
      }

      .form-group input:focus,
      .form-group select:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: var(--accent-color);
        box-shadow: 0 0 0 3px rgba(160, 137, 107, 0.15);
        transform: translateY(-2px);
      }

      .phone-group {
        display: grid;
        grid-template-columns: 120px 1fr;
        gap: 10px;
      }

      .datetime-group {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
      }

      .datetime-input {
        display: grid;
        grid-template-columns: 1fr 80px;
        gap: 5px;
      }

      .room-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        margin-top: 10px;
      }

      .room-card {
        background: var(--card-bg);
        border: 2px solid var(--card-border);
        border-radius: 12px;
        padding: 20px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        color: var(--text-primary);
      }

      .room-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(160, 137, 107, 0.1),
          transparent
        );
        transition: left 0.5s ease;
      }

      .room-card:hover::before {
        left: 100%;
      }

      .room-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px var(--shadow-color);
        border-color: var(--accent-color);
      }

      .room-card.selected {
        background: var(--btn-gradient);
        color: white;
        border-color: var(--accent-color);
        transform: scale(1.05);
      }

      .room-card h3 {
        font-size: 1.1em;
        margin-bottom: 5px;
      }

      .room-card p {
        font-size: 0.9em;
        opacity: 0.8;
      }

      .room-type {
        font-size: 0.8em;
        background: rgba(0, 0, 0, 0.1);
        padding: 2px 6px;
        border-radius: 4px;
        margin-bottom: 5px;
      }

      .checkbox-group {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 10px;
      }

      .checkbox-item {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px;
        background: white;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .checkbox-item:hover {
        background: #f8f9fa;
        border-color: #4facfe;
      }

      .checkbox-item input[type="checkbox"] {
        width: auto;
        margin: 0;
      }

      .checkbox-item.checked {
        background: #e3f2fd;
        border-color: #4facfe;
      }

      .btn {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 10px;
        font-size: 1.1em;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        width: 100%;
        position: relative;
        overflow: hidden;
      }

      .btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.5s ease;
      }

      .btn:hover::before {
        left: 100%;
      }

      .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(79, 172, 254, 0.4);
      }

      .btn:active {
        transform: translateY(-1px);
      }

      .bookings-list {
        background: var(--form-bg);
        padding: 30px;
        border-radius: 15px;
        border: 2px solid var(--form-border);
        overflow-y: auto;
      }

      .booking-item {
        background: var(--card-bg);
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 15px;
        border-left: 4px solid var(--accent-color);
        transition: all 0.3s ease;
        position: relative;
        color: var(--text-primary);
      }

      .booking-item:hover {
        transform: translateX(5px);
        box-shadow: 0 5px 15px var(--shadow-color);
      }

      .booking-item h4 {
        color: var(--text-primary);
        margin-bottom: 10px;
        font-size: 1.2em;
      }

      .booking-item p {
        margin-bottom: 5px;
        color: var(--text-secondary);
      }

      .booking-item .delete-btn {
        position: absolute;
        top: 15px;
        right: 15px;
        background: #dc3545;
        color: white;
        border: none;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 1.2em;
        transition: all 0.3s ease;
      }

      .booking-item .delete-btn:hover {
        background: #c82333;
        transform: scale(1.1);
      }

      .status-badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8em;
        font-weight: 600;
        text-transform: uppercase;
      }

      .status-active {
        background: #28a745;
        color: white;
      }

      .status-upcoming {
        background: #ffc107;
        color: #333;
      }

      .status-past {
        background: #6c757d;
        color: white;
      }

      .alert {
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
        font-weight: 600;
        animation: slideIn 0.5s ease;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(-20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .alert-success {
        background: var(--success-bg);
        color: var(--success-text);
        border: 1px solid var(--success-text);
      }

      .alert-error {
        background: var(--error-bg);
        color: var(--error-text);
        border: 1px solid var(--error-text);
      }

      .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .stat-card {
        background: var(--card-bg);
        padding: 20px;
        border-radius: 12px;
        text-align: center;
        border: 2px solid var(--card-border);
        transition: all 0.3s ease;
      }

      .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px var(--shadow-color);
      }

      .stat-card h3 {
        font-size: 2em;
        color: var(--accent-color);
        margin-bottom: 5px;
      }

      .stat-card p {
        color: var(--text-secondary);
        font-weight: 600;
      }

      @media (max-width: 768px) {
        .main-content {
          grid-template-columns: 1fr;
          gap: 30px;
          padding: 20px;
        }

        .header h1 {
          font-size: 2em;
        }

        .room-grid {
          grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        }

        .phone-group {
          grid-template-columns: 100px 1fr;
        }

        .datetime-group {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <button class="theme-toggle" onclick="toggleTheme()">
          <span id="theme-text">🌙 Dark Mode</span>
        </button>
        <h1>🏢 Booking Ruangan</h1>
        <p>Sistem reservasi ruangan yang mudah dan efisien</p>
      </div>

      <div class="main-content">
        <div class="booking-form">
          <h2
            style="
              color: var(--text-primary);
              margin-bottom: 20px;
              font-weight: 600;
            "
          >
            📅 Buat Reservasi
          </h2>
          <div id="alert-container"></div>

          <form id="bookingForm">
            <div class="form-group">
              <label for="nama">Nama Pemesan</label>
              <input type="text" id="nama" name="nama" required />
            </div>

            <div class="form-group">
              <label for="majelis">Majelis</label>
              <select id="majelis" name="majelis" required>
                <option value="">Pilih Majelis</option>
                <option value="majelis-ulama">Majelis Pendidikan</option>
                <option value="majelis-hakim">Majelis Peduli</option>
              </select>
            </div>

            <div class="form-group">
              <label>Nomor Telepon</label>
              <div class="phone-group">
                <select id="countryCode" name="countryCode" required>
                  <option value="+62">+62 (ID)</option>
                  <option value="+1">+1 (US/CA & Caribbean)</option>
                  <option value="+7">+7 (RU/KZ)</option>
                  <option value="+20">+20 (EG)</option>
                  <option value="+27">+27 (ZA)</option>
                  <option value="+30">+30 (GR)</option>
                  <option value="+31">+31 (NL)</option>
                  <option value="+32">+32 (BE)</option>
                  <option value="+33">+33 (FR)</option>
                  <option value="+34">+34 (ES)</option>
                  <option value="+36">+36 (HU)</option>
                  <option value="+39">+39 (IT)</option>
                  <option value="+40">+40 (RO)</option>
                  <option value="+41">+41 (CH)</option>
                  <option value="+43">+43 (AT)</option>
                  <option value="+44">+44 (UK)</option>
                  <option value="+45">+45 (DK)</option>
                  <option value="+46">+46 (SE)</option>
                  <option value="+47">+47 (NO)</option>
                  <option value="+48">+48 (PL)</option>
                  <option value="+49">+49 (DE)</option>
                  <option value="+51">+51 (PE)</option>
                  <option value="+52">+52 (MX)</option>
                  <option value="+53">+53 (CU)</option>
                  <option value="+54">+54 (AR)</option>
                  <option value="+55">+55 (BR)</option>
                  <option value="+56">+56 (CL)</option>
                  <option value="+57">+57 (CO)</option>
                  <option value="+58">+58 (VE)</option>
                  <option value="+60">+60 (MY)</option>
                  <option value="+61">+61 (AU)</option>
                  <option value="+63">+63 (PH)</option>
                  <option value="+64">+64 (NZ)</option>
                  <option value="+65">+65 (SG)</option>
                  <option value="+66">+66 (TH)</option>
                  <option value="+81">+81 (JP)</option>
                  <option value="+82">+82 (KR)</option>
                  <option value="+84">+84 (VN)</option>
                  <option value="+86">+86 (CN)</option>
                  <option value="+90">+90 (TR)</option>
                  <option value="+91">+91 (IN)</option>
                  <option value="+92">+92 (PK)</option>
                  <option value="+93">+93 (AF)</option>
                  <option value="+94">+94 (LK)</option>
                  <option value="+95">+95 (MM)</option>
                  <option value="+98">+98 (IR)</option>
                  <option value="+211">+211 (SS)</option>
                  <option value="+212">+212 (MA)</option>
                  <option value="+213">+213 (DZ)</option>
                  <option value="+216">+216 (TN)</option>
                  <option value="+218">+218 (LY)</option>
                  <option value="+220">+220 (GM)</option>
                  <option value="+221">+221 (SN)</option>
                  <option value="+222">+222 (MR)</option>
                  <option value="+223">+223 (ML)</option>
                  <option value="+224">+224 (GN)</option>
                  <option value="+225">+225 (CI)</option>
                  <option value="+226">+226 (BF)</option>
                  <option value="+227">+227 (NE)</option>
                  <option value="+228">+228 (TG)</option>
                  <option value="+229">+229 (BJ)</option>
                  <option value="+230">+230 (MU)</option>
                  <option value="+231">+231 (LR)</option>
                  <option value="+232">+232 (SL)</option>
                  <option value="+233">+233 (GH)</option>
                  <option value="+234">+234 (NG)</option>
                  <option value="+235">+235 (TD)</option>
                  <option value="+236">+236 (CF)</option>
                  <option value="+237">+237 (CM)</option>
                  <option value="+238">+238 (CV)</option>
                  <option value="+239">+239 (ST)</option>
                  <option value="+240">+240 (GQ)</option>
                  <option value="+241">+241 (GA)</option>
                  <option value="+242">+242 (CG)</option>
                  <option value="+243">+243 (CD)</option>
                  <option value="+244">+244 (AO)</option>
                  <option value="+245">+245 (GW)</option>
                  <option value="+246">+246 (IO)</option>
                  <option value="+247">+247 (AC)</option>
                  <option value="+248">+248 (SC)</option>
                  <option value="+249">+249 (SD)</option>
                  <option value="+250">+250 (RW)</option>
                  <option value="+251">+251 (ET)</option>
                  <option value="+252">+252 (SO)</option>
                  <option value="+253">+253 (DJ)</option>
                  <option value="+254">+254 (KE)</option>
                  <option value="+255">+255 (TZ)</option>
                  <option value="+256">+256 (UG)</option>
                  <option value="+257">+257 (BI)</option>
                  <option value="+258">+258 (MZ)</option>
                  <option value="+260">+260 (ZM)</option>
                  <option value="+261">+261 (MG)</option>
                  <option value="+262">+262 (RE)</option>
                  <option value="+263">+263 (ZW)</option>
                  <option value="+264">+264 (NA)</option>
                  <option value="+265">+265 (MW)</option>
                  <option value="+266">+266 (LS)</option>
                  <option value="+267">+267 (BW)</option>
                  <option value="+268">+268 (SZ)</option>
                  <option value="+269">+269 (KM)</option>
                  <option value="+290">+290 (SH)</option>
                  <option value="+291">+291 (ER)</option>
                  <option value="+297">+297 (AW)</option>
                  <option value="+298">+298 (FO)</option>
                  <option value="+299">+299 (GL)</option>
                  <option value="+350">+350 (GI)</option>
                  <option value="+351">+351 (PT)</option>
                  <option value="+352">+352 (LU)</option>
                  <option value="+353">+353 (IE)</option>
                  <option value="+354">+354 (IS)</option>
                  <option value="+355">+355 (AL)</option>
                  <option value="+356">+356 (MT)</option>
                  <option value="+357">+357 (CY)</option>
                  <option value="+358">+358 (FI)</option>
                  <option value="+359">+359 (BG)</option>
                  <option value="+370">+370 (LT)</option>
                  <option value="+371">+371 (LV)</option>
                  <option value="+372">+372 (EE)</option>
                  <option value="+373">+373 (MD)</option>
                  <option value="+374">+374 (AM)</option>
                  <option value="+375">+375 (BY)</option>
                  <option value="+376">+376 (AD)</option>
                  <option value="+377">+377 (MC)</option>
                  <option value="+378">+378 (SM)</option>
                  <option value="+380">+380 (UA)</option>
                  <option value="+381">+381 (RS)</option>
                  <option value="+382">+382 (ME)</option>
                  <option value="+383">+383 (XK)</option>
                  <option value="+385">+385 (HR)</option>
                  <option value="+386">+386 (SI)</option>
                  <option value="+387">+387 (BA)</option>
                  <option value="+389">+389 (MK)</option>
                  <option value="+420">+420 (CZ)</option>
                  <option value="+421">+421 (SK)</option>
                  <option value="+423">+423 (LI)</option>
                  <option value="+500">+500 (FK)</option>
                  <option value="+501">+501 (BZ)</option>
                  <option value="+502">+502 (GT)</option>
                  <option value="+503">+503 (SV)</option>
                  <option value="+504">+504 (HN)</option>
                  <option value="+505">+505 (NI)</option>
                  <option value="+506">+506 (CR)</option>
                  <option value="+507">+507 (PA)</option>
                  <option value="+508">+508 (PM)</option>
                  <option value="+509">+509 (HT)</option>
                  <option value="+590">+590 (BL/MF/GP/MS)</option>
                  <option value="+591">+591 (BO)</option>
                  <option value="+592">+592 (GY)</option>
                  <option value="+593">+593 (EC)</option>
                  <option value="+594">+594 (GF)</option>
                  <option value="+595">+595 (PY)</option>
                  <option value="+596">+596 (MQ)</option>
                  <option value="+597">+597 (SR)</option>
                  <option value="+598">+598 (UY)</option>
                  <option value="+599">+599 (CW/SX/BQ)</option>
                  <option value="+670">+670 (TL)</option>
                  <option value="+672">+672 (AQ/AU territories)</option>
                  <option value="+673">+673 (BN)</option>
                  <option value="+674">+674 (NR)</option>
                  <option value="+675">+675 (PG)</option>
                  <option value="+676">+676 (TO)</option>
                  <option value="+677">+677 (SB)</option>
                  <option value="+678">+678 (VU)</option>
                  <option value="+679">+679 (FJ)</option>
                  <option value="+680">+680 (PW)</option>
                  <option value="+681">+681 (WF)</option>
                  <option value="+682">+682 (CK)</option>
                  <option value="+683">+683 (NU)</option>
                  <option value="+685">+685 (WS)</option>
                  <option value="+686">+686 (KI)</option>
                  <option value="+687">+687 (NC)</option>
                  <option value="+688">+688 (TV)</option>
                  <option value="+689">+689 (PF)</option>
                  <option value="+690">+690 (TK)</option>
                  <option value="+691">+691 (FM)</option>
                  <option value="+692">+692 (MH)</option>
                  <option value="+850">+850 (KP)</option>
                  <option value="+852">+852 (HK)</option>
                  <option value="+853">+853 (MO)</option>
                  <option value="+855">+855 (KH)</option>
                  <option value="+856">+856 (LA)</option>
                  <option value="+880">+880 (BD)</option>
                  <option value="+886">+886 (TW)</option>
                  <option value="+960">+960 (MV)</option>
                  <option value="+961">+961 (LB)</option>
                  <option value="+962">+962 (JO)</option>
                  <option value="+963">+963 (SY)</option>
                  <option value="+964">+964 (IQ)</option>
                  <option value="+965">+965 (KW)</option>
                  <option value="+966">+966 (SA)</option>
                  <option value="+967">+967 (YE)</option>
                  <option value="+968">+968 (OM)</option>
                  <option value="+970">+970 (PS)</option>
                  <option value="+971">+971 (UAE)</option>
                  <option value="+972">+972 (IL)</option>
                  <option value="+973">+973 (BH)</option>
                  <option value="+974">+974 (QA)</option>
                  <option value="+975">+975 (BT)</option>
                  <option value="+976">+976 (MN)</option>
                  <option value="+977">+977 (NP)</option>
                  <option value="+992">+992 (TJ)</option>
                  <option value="+993">+993 (TM)</option>
                  <option value="+994">+994 (AZ)</option>
                  <option value="+995">+995 (GE)</option>
                  <option value="+996">+996 (KG)</option>
                  <option value="+998">+998 (UZ)</option>
                </select>
                <input
                  type="tel"
                  id="phone"
                  name="phone"
                  placeholder="Nomor telepon"
                  required
                />
              </div>
            </div>

            <div class="form-group">
              <label>Tanggal & Waktu Mulai</label>
              <div class="datetime-group">
                <div class="datetime-input">
                  <input
                    type="date"
                    id="tanggalMulai"
                    name="tanggalMulai"
                    required
                  />
                  <input
                    type="time"
                    id="waktuMulai"
                    name="waktuMulai"
                    required
                  />
                </div>
                <div class="datetime-input">
                  <input
                    type="date"
                    id="tanggalSelesai"
                    name="tanggalSelesai"
                    required
                  />
                  <input
                    type="time"
                    id="waktuSelesai"
                    name="waktuSelesai"
                    required
                  />
                </div>
              </div>
            </div>

            <div class="form-group">
              <label>Pilih Ruangan</label>
              <div class="room-grid">
                <div class="room-card" data-room="ruang-a">
                  <div class="room-type">Dengan Kursi</div>
                  <h3>Ruang A</h3>
                  <p>Maks 12 orang</p>
                </div>
                <div class="room-card" data-room="ruang-b">
                  <div class="room-type">Dengan Kursi</div>
                  <h3>Ruang B</h3>
                  <p>Maks 8 orang</p>
                </div>
                <div class="room-card" data-room="ruang-c">
                  <div class="room-type">Dengan Kursi</div>
                  <h3>Ruang C</h3>
                  <p>Maks 12 orang</p>
                </div>
                <div class="room-card" data-room="common-1">
                  <div class="room-type">Tanpa Kursi</div>
                  <h3>Common Room 1</h3>
                  <p>Maks 30 orang</p>
                </div>
                <div class="room-card" data-room="common-2">
                  <div class="room-type">Tanpa Kursi</div>
                  <h3>Common Room 2</h3>
                  <p>Maks 20 orang</p>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label>Sarana Pendukung</label>
              <div class="checkbox-group">
                <div class="checkbox-item">
                  <input type="checkbox" id="tv" name="sarana" value="TV" />
                  <label for="tv">📺 TV/LCD</label>
                </div>
                <div class="checkbox-item">
                  <input
                    type="checkbox"
                    id="papan-tulis"
                    name="sarana"
                    value="Papan Tulis"
                  />
                  <label for="papan-tulis">📋 Papan Tulis</label>
                </div>
                <div class="checkbox-item">
                  <input
                    type="checkbox"
                    id="proyektor"
                    name="sarana"
                    value="Proyektor"
                  />
                  <label for="proyektor">📽️ Proyektor</label>
                </div>
                <div class="checkbox-item">
                  <input
                    type="checkbox"
                    id="sound-system"
                    name="sarana"
                    value="Sound System"
                  />
                  <label for="sound-system">🔊 Sound System</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="wifi" name="sarana" value="WiFi" />
                  <label for="wifi">📶 WiFi</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="ac" name="sarana" value="AC" />
                  <label for="ac">❄️ AC</label>
                </div>
                <div class="checkbox-item">
                  <input
                    type="checkbox"
                    id="flipchart"
                    name="sarana"
                    value="Flipchart"
                  />
                  <label for="flipchart">📊 Flipchart</label>
                </div>
                <div class="checkbox-item">
                  <input
                    type="checkbox"
                    id="konsumsi"
                    name="sarana"
                    value="Konsumsi"
                  />
                  <label for="konsumsi">☕ Konsumsi</label>
                </div>
              </div>
              <div class="form-group" style="margin-top: 15px">
                <label for="sarana-lainnya">Sarana Lainnya</label>
                <input
                  type="text"
                  id="sarana-lainnya"
                  name="sarana-lainnya"
                  placeholder="Tuliskan kebutuhan sarana lainnya yang diperlukan..."
                />
              </div>
            </div>

            <div class="form-group">
              <label for="agenda">Agenda Kegiatan</label>
              <textarea
                id="agenda"
                name="agenda"
                rows="4"
                placeholder="Deskripsikan agenda kegiatan yang akan dilaksanakan..."
                required
              ></textarea>
            </div>

            <button type="submit" class="btn">🎯 Buat Reservasi</button>
          </form>
        </div>

        <div class="bookings-list">
          <h2
            style="
              color: var(--text-primary);
              margin-bottom: 20px;
              font-weight: 600;
            "
          >
            📋 Daftar Reservasi
          </h2>

          <div class="stats">
            <div class="stat-card">
              <h3 id="totalBookings">0</h3>
              <p>Total Booking</p>
            </div>
            <div class="stat-card">
              <h3 id="todayBookings">0</h3>
              <p>Hari Ini</p>
            </div>
          </div>

          <div id="bookingsList"></div>
        </div>
      </div>
    </div>

    <script>
      // Data storage
      let bookings = [];
      let selectedRoom = "";

      // Set light mode as default
      document.documentElement.setAttribute("data-theme", "light");

      // Theme toggle function
      function toggleTheme() {
        const currentTheme =
          document.documentElement.getAttribute("data-theme");
        const newTheme = currentTheme === "dark" ? "light" : "dark";
        const themeText = document.getElementById("theme-text");

        document.documentElement.setAttribute("data-theme", newTheme);
        themeText.textContent =
          newTheme === "dark" ? "☀️ Light Mode" : "🌙 Dark Mode";

        // Store preference
        localStorage.setItem("theme", newTheme);
      }

      // Load saved theme preference
      window.addEventListener("load", function () {
        const savedTheme = localStorage.getItem("theme") || "light"; // Default to light if no saved preference
        document.documentElement.setAttribute("data-theme", savedTheme);
        const themeText = document.getElementById("theme-text");
        themeText.textContent =
          savedTheme === "dark" ? "☀️ Light Mode" : "🌙 Dark Mode";
      });

      // DOM elements
      const bookingForm = document.getElementById("bookingForm");
      const roomCards = document.querySelectorAll(".room-card");
      const bookingsList = document.getElementById("bookingsList");
      const alertContainer = document.getElementById("alert-container");
      const totalBookingsEl = document.getElementById("totalBookings");
      const todayBookingsEl = document.getElementById("todayBookings");
      const tanggalMulaiInput = document.getElementById("tanggalMulai");
      const tanggalSelesaiInput = document.getElementById("tanggalSelesai");
      const checkboxItems = document.querySelectorAll(".checkbox-item");

      // Set minimum date to today
      const today = new Date();
      const todayStr = today.toISOString().split("T")[0];
      tanggalMulaiInput.min = todayStr;
      tanggalSelesaiInput.min = todayStr;
      tanggalMulaiInput.value = todayStr;
      tanggalSelesaiInput.value = todayStr;

      // Event listeners
      roomCards.forEach((card) => {
        card.addEventListener("click", function () {
          roomCards.forEach((c) => c.classList.remove("selected"));
          this.classList.add("selected");
          selectedRoom = this.dataset.room;
        });
      });

      checkboxItems.forEach((item) => {
        const checkbox = item.querySelector('input[type="checkbox"]');
        item.addEventListener("click", function (e) {
          if (e.target.type !== "checkbox") {
            checkbox.checked = !checkbox.checked;
          }
          this.classList.toggle("checked", checkbox.checked);
        });

        checkbox.addEventListener("change", function () {
          item.classList.toggle("checked", this.checked);
        });
      });

      tanggalMulaiInput.addEventListener("change", function () {
        tanggalSelesaiInput.min = this.value;
        if (tanggalSelesaiInput.value < this.value) {
          tanggalSelesaiInput.value = this.value;
        }
      });

      bookingForm.addEventListener("submit", function (e) {
        e.preventDefault();

        if (!selectedRoom) {
          showAlert("Mohon pilih ruangan terlebih dahulu!", "error");
          return;
        }

        const formData = new FormData(this);
        const saranaPendukung = Array.from(formData.getAll("sarana"));

        const tanggalMulai = formData.get("tanggalMulai");
        const waktuMulai = formData.get("waktuMulai");
        const tanggalSelesai = formData.get("tanggalSelesai");
        const waktuSelesai = formData.get("waktuSelesai");

        // Validate datetime
        const startDateTime = new Date(tanggalMulai + "T" + waktuMulai);
        const endDateTime = new Date(tanggalSelesai + "T" + waktuSelesai);

        if (endDateTime <= startDateTime) {
          showAlert("Waktu selesai harus setelah waktu mulai!", "error");
          return;
        }

        const booking = {
          id: Date.now(),
          nama: formData.get("nama"),
          majelis: formData.get("majelis"),
          phone: formData.get("countryCode") + formData.get("phone"),
          tanggalMulai: tanggalMulai,
          waktuMulai: waktuMulai,
          tanggalSelesai: tanggalSelesai,
          waktuSelesai: waktuSelesai,
          ruangan: selectedRoom,
          saranaPendukung: saranaPendukung,
          saranaLainnya: formData.get("sarana-lainnya"),
          agenda: formData.get("agenda"),
          status: getBookingStatus(tanggalMulai, waktuMulai),
          createdAt: new Date().toISOString(),
        };

        // Check for room conflicts
        const hasConflict = bookings.some((b) => {
          if (b.ruangan !== booking.ruangan) return false;

          const existingStart = new Date(b.tanggalMulai + "T" + b.waktuMulai);
          const existingEnd = new Date(b.tanggalSelesai + "T" + b.waktuSelesai);

          return startDateTime < existingEnd && endDateTime > existingStart;
        });

        if (hasConflict) {
          showAlert("Ruangan tidak tersedia pada waktu yang dipilih!", "error");
          return;
        }

        bookings.push(booking);
        showAlert("Reservasi berhasil dibuat! 🎉", "success");

        // Reset form
        this.reset();
        roomCards.forEach((c) => c.classList.remove("selected"));
        checkboxItems.forEach((item) => {
          item.classList.remove("checked");
          item.querySelector('input[type="checkbox"]').checked = false;
        });
        selectedRoom = "";

        // Reset dates
        tanggalMulaiInput.value = todayStr;
        tanggalSelesaiInput.value = todayStr;

        // Update displays
        renderBookings();
        updateStats();
      });

      function getBookingStatus(date, time) {
        const bookingDateTime = new Date(date + "T" + time);
        const now = new Date();

        if (bookingDateTime < now) {
          return "past";
        } else if (bookingDateTime.toDateString() === now.toDateString()) {
          return "active";
        } else {
          return "upcoming";
        }
      }

      function renderBookings() {
        bookingsList.innerHTML = "";

        if (bookings.length === 0) {
          bookingsList.innerHTML =
            '<p style="text-align: center; color: #666; padding: 40px;">Belum ada reservasi yang dibuat</p>';
          return;
        }

        const sortedBookings = [...bookings].sort((a, b) => {
          const dateA = new Date(a.tanggalMulai + "T" + a.waktuMulai);
          const dateB = new Date(b.tanggalMulai + "T" + b.waktuMulai);
          return dateB - dateA;
        });

        sortedBookings.forEach((booking) => {
          const bookingEl = document.createElement("div");
          bookingEl.className = "booking-item";

          const roomName = getRoomName(booking.ruangan);
          const majelisName = getMajelisName(booking.majelis);
          const status = getBookingStatus(
            booking.tanggalMulai,
            booking.waktuMulai
          );
          const statusClass = `status-${status}`;
          const statusText =
            status === "active"
              ? "Aktif"
              : status === "upcoming"
              ? "Mendatang"
              : "Selesai";

          const saranaPendukung =
            booking.saranaPendukung.length > 0
              ? booking.saranaPendukung.join(", ")
              : "Tidak ada";

          const saranaLainnya = booking.saranaLainnya
            ? booking.saranaLainnya
            : "";

          const allSarana = saranaLainnya
            ? saranaPendukung === "Tidak ada"
              ? saranaLainnya
              : saranaPendukung + ", " + saranaLainnya
            : saranaPendukung;

          bookingEl.innerHTML = `
                    <button class="delete-btn" onclick="deleteBooking(${
                      booking.id
                    })">×</button>
                    <h4>${roomName}</h4>
                    <p><strong>Nama:</strong> ${booking.nama}</p>
                    <p><strong>Majelis:</strong> ${majelisName}</p>
                    <p><strong>Telepon:</strong> ${booking.phone}</p>
                    <p><strong>Mulai:</strong> ${formatDate(
                      booking.tanggalMulai
                    )} ${booking.waktuMulai}</p>
                    <p><strong>Selesai:</strong> ${formatDate(
                      booking.tanggalSelesai
                    )} ${booking.waktuSelesai}</p>
                    <p><strong>Sarana:</strong> ${allSarana}</p>
                    <p><strong>Agenda:</strong> ${booking.agenda}</p>
                    <p><strong>Status:</strong> <span class="status-badge ${statusClass}">${statusText}</span></p>
                `;

          bookingsList.appendChild(bookingEl);
        });
      }

      function getRoomName(roomId) {
        const rooms = {
          "ruang-a": "Ruang A (12 orang)",
          "ruang-b": "Ruang B (8 orang)",
          "ruang-c": "Ruang C (12 orang)",
          "common-1": "Common Room 1 (30 orang)",
          "common-2": "Common Room 2 (20 orang)",
        };
        return rooms[roomId] || roomId;
      }

      function getMajelisName(majelisId) {
        const majelis = {
          "majelis-ulama": "Majelis Ulama",
          "majelis-hakim": "Majelis Hakim",
          "majelis-syariah": "Majelis Syariah",
          "majelis-dakwah": "Majelis Dakwah",
          "majelis-pendidikan": "Majelis Pendidikan",
          "majelis-sosial": "Majelis Sosial",
        };
        return majelis[majelisId] || majelisId;
      }

      function formatDate(dateString) {
        const date = new Date(dateString);
        return date.toLocaleDateString("id-ID", {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric",
        });
      }

      function deleteBooking(id) {
        if (confirm("Apakah Anda yakin ingin menghapus reservasi ini?")) {
          bookings = bookings.filter((b) => b.id !== id);
          renderBookings();
          updateStats();
          showAlert("Reservasi berhasil dihapus!", "success");
        }
      }

      function updateStats() {
        const total = bookings.length;
        const today = new Date().toDateString();
        const todayCount = bookings.filter((b) => {
          const bookingDate = new Date(b.tanggalMulai).toDateString();
          return bookingDate === today;
        }).length;

        totalBookingsEl.textContent = total;
        todayBookingsEl.textContent = todayCount;
      }

      function showAlert(message, type) {
        alertContainer.innerHTML = `
                <div class="alert alert-${type}">
                    ${message}
                </div>
            `;

        setTimeout(() => {
          alertContainer.innerHTML = "";
        }, 5000);
      }

      // Initialize
      renderBookings();
      updateStats();
    </script>
  </body>
</html>
